plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.4.9'
}

intellij {
    // PC-LATEST-EAP-SNAPSHOT is also available here
    version 'PY-2019.2.1'
    type 'PY'
    downloadSources true
    intellij.updateSinceUntilBuild false
}
group 'com.pycrunch'
version '1.1-rc1'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    implementation 'com.github.nkzawa:socket.io-client:0.6.0'
}

// See https://github.com/JetBrains/gradle-intellij-plugin/
//intellij {
//    version '2019.1.3'
//}
patchPluginXml {
    changeNotes """
    This is biggest update since release. <br><br>
    Added ability to terminate test execution. <br>
    Icon were redrawn for high-resolution screens. <br>
    Added information about tests currently in progress. <br>
    Cursor will now follow variables in variables timeline list <br>
    Variables will show latest value from most recent run <br>
    There are even more changes in pycrunch-engine from gathered feedback, including: <br>
    <ul>
    <li> 
     Faster test execution
     </li>
    <li> 
     Engine stability and better error reporting.
     </li>
    <li> 
       Support for test run termination and test execution timeout.
     </li>
    </ul>
    <br>
       To use new termination feature, please upgrade engine using: <br>
       pip install --upgrade pycrunch-engine <br>
       
       <br>
    There are known issues with coverage v5 and pytest-coverage plugin.<br> 
    If you experience that, please downgrade coverage by: <br>
    pip install coverage==4.5.3<br>
    and remove pytest-coverage plugin from venv and pytest.ini, while we are working on the next update.<br>


 
    
      """
}
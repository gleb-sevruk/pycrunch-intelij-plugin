<idea-plugin>
    <id>com.pycrunch.intellijconnector</id>
    <name>PyCrunch Engine Connector</name>
    <vendor email="support@pycrunch.com" url="https://pycrunch.com">PyCrunch</vendor>

    <description><![CDATA[
    PyCrunch is an automatic test runner for Python
    <ul>
    <li>Shows coverage inline with your code</li>
    <li>See which lines are hit by tests</li>
    <li>Instant feedback about failing tests and affected lines</li>
    <li>Captures output for each test separately, allowing better diagnostics per test</li>
    <li>Easy navigation between code and tests</li>
    <li>Support for Django</li>
</ul>
    ]]></description>
    <idea-version since-build="171"/>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
<!--    &lt;!&ndash; uncomment to enable plugin in all products-->
    <depends>com.intellij.modules.lang</depends>
<!--    &ndash;&gt;-->
    <project-components>
        <component>
            <!-- Interface and implementation classes are the same -->
            <implementation-class>com.gleb.pycrunch.MyProjComponent</implementation-class>

            <!-- If the "workspace" option is set "true", the component
                 saves its state to the .iws file instead of the .ipr file.
                 Note that the <option> element is used only if the component
                 implements the JDOMExternalizable interface. Otherwise, the
                 use of the <option> element takes no effect.  -->
            <option name="workspace" value="true" />

            <!-- If the "loadForDefaultProject" tag is present, the project component is instantiated also for the default project. -->
            <loadForDefaultProject/>
        </component>
    </project-components>
    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.gleb.pycrunch.activation.MyStateService"/>
        <applicationService serviceInterface="com.gleb.pycrunch.MyCounter"
                            serviceImplementation="com.gleb.pycrunch.MyCounter"/>

        <projectService serviceInterface="com.gleb.pycrunch.PycrunchHighlighterMarkersState"
                            serviceImplementation="com.gleb.pycrunch.PycrunchHighlighterMarkersState"/>

        <projectService serviceInterface="com.gleb.pycrunch.PycrunchConnector"
                        serviceImplementation="com.gleb.pycrunch.PycrunchConnector"/>

        <projectService serviceImplementation="com.gleb.pycrunch.shared.PycrunchWindowStateService"/>


        <toolWindow id="PyCrunch" icon="/tool-window.png" anchor="right" factoryClass="com.gleb.pycrunch.PyCrunchToolWindowFactory"/>


    </extensions>

    <actions>
        <group id="PyChrunch.DevMenu" text="_PyCrunch" description="PyCrunch">
            <add-to-group group-id="MainMenu" anchor="last"  />
            <action id="PyChrunch.RunEngine" class="com.gleb.pycrunch.actions.RunPycrunchEngineAction" text="Run Engine" description="Create and run Pycrunch engine within current project" />
            <separator/>
            <action id="PyChrunch.ConnectToCustomPycrunchEngineAction" class="com.gleb.pycrunch.actions.ConnectToCustomPycrunchEngineAction" text="Attach to PyCrunch-Engine" description="A test menu item" />
            <action id="PyCrunch.RemoveLicence" class="com.gleb.pycrunch.actions.PycrunchRemoveLicenseAction" text="Remove _License" description="Removes previously bound license" />
        </group>
    </actions>
</idea-plugin>